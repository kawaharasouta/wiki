==========================
ブートローダについてのメモ
==========================

PCが起動時に, OSを呼び出すためのソフトウェア．
一般的にハードディスクの先頭にある「MBR(マスターブートレコード)」
という領域に記録されている．
PCの電源を投入するとBIOSが起動され，BIOSがブートローダを呼び出し，
その後ブートローダがカーネル(OS)を呼び出す．

僕の理解では，BIOS(UEFI)はファームウェアだからギリギリハードウェアの領域で，
ブートローダからソフトウェアという印象．

おそらく今の主流はGRUB2でubuntuは早々これを導入していた．
他のデストリはしばらく従来の「GRUB Legacy」を使っていた．


以下，GRUB2についてのメモ

ファイル構成と設定方法について
===============================

設定のメインファイルは「/etc/grub/grub.cfg」だが，
このファイルは直接編集する訳ではなく，別のファイルに設定を書き，
コマンドを実行してファイルを生成する．
編集するファイルは「/etc/default/grub」と「/etc/grub.d/」．
これらを編集したのちに

::

  $ sudo grub-mkconfig -o /boot/grub/grub.cfg
  
  or

  $ sudo update-grub2       #これちょっとオプションとか足りないかもしれないけど

とかする．

/etc/default/grub
==================

grub-mkconfigはシェル(sh)スクリプトで，基本的にはそれに読み込まれる
パラメータを記述するファイル．


.. csv-table::
  :header: パラメータ, 説明
  :widths: 8, 8

  GRUB_DEFAULT, "| デフォルトのOSを指定する為のパラメータ．
  | index，メニューで表示される名称の他, 
  | 「saved」とすると前回起動したOSがデフォルトになる．"
  GRUB_TIMEOUT, デフォルトのOSを起動するまでの時間を秒で指定する．
  GRUB_HIDDEN_TIMEOUT, "| これが指定されるとメニューの表示がない．
  | また，これで指定された秒数だけ待つ．"
  GRUB_HIDDEN_TIMEOUT_QUIET, "| trueかfalseを指定する．
  | falseの場合画面にGRUB_HIDDEN_TIMEOUTの残り時間を表示する．"
  GRUB_CMDLINE_LINUX, カーネルのコマンドラインオプションを追加する．
  GRUB_CMDLINE_LINUX_DEFAULT_DEFAULT, 通常起動の場合にコマンドラインオプションを追加する．
  GRUB_GFXMOD, 画像の解像度を指定するパラメータ．
  GRUB_BACKGROUND, 背景画像を指定するパラメータ．

/etc/grub.d/
==============

「README」，「.dpkg-」以外の実行権限のあるファイルが対象．
これらは/etc/default/grubの設定に従った内容を出力するので，
基本的にこのファイルも編集しない．どうしてもの場合のみ編集する．










