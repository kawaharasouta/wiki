==============
CPU関連のメモ
==============

そもそもCPUってなんなのって話
==============================

昔適当にIC並べて全加算器作ったりとかあったけど，これにレジスタついたりしたらもうCPUだよねって人と話たりしたんだけど，それだけだと正直よくわからんよね．
だって僕の知ってるCPUってプログラム読み込んだりするし，なんかidleしたりするし，計算のために人間のいろんな助け必要としないし，
そう考えるとCPUってなんなのかが本当にわからなくなる．
じゃあCPUってなんなのか．

**CPUとは**

- 命令fetch:  プログラムカウンタ(レジスタ?)を見て命令(プログラム)をメモリから読む
- デコード:   命令を解読?
- 演算:       命令を実行
- ストア:     結果をメモリに格納

以上の動作をクロックに合わせて繰り返す．

これがCPU．
逆にいうとこれだけ満たしていればCPU．






ROMとかRAMとかメモリ系の話
===========================

メモリとはなんなのか．
0,1を記憶・保持しておく素子．(素子ってなんか違う気がするけどとりあえずこのままでいいや)
そんなのはわかっている．
記憶ってなんだよ．保持ってなんだよ．
フリップフロップだけ見せてドヤ顔してくる人いるけどそんなのもちろんわかってて，
さらに揮発性がどうだのとか言われるとよりわからなくなる．

さて，端的に僕の結論を述べると，
メモリとは「スイッチ」である．

1bitのメモリを考える．
これは当然，1つの0,1を記憶・保持しておくものなんだけど，
電気的に考えるともっとわかりやすくて，
その素子の出力の0,1を素子の状態でコントロールできるやつ．
みたいなイメージ．
↑よくわからないと思うんだけど，実際にスイッチを1bitメモリにしたのを見ればマジで早いから見ればいいんだ．

.. image:: ./1bitROM.png
   :scale:  40%
   :align: center

これ，スイッチをONにすると接地されて電気的にLowに，そしてOFFにするとHighになるわけだ．
要は1つの0,1を記憶・保持できているわけだ．
メモリに書き込む行為はスイッチのON, OFFを切り替える行為と同じであるわけだが，
ここまでくると今度は書き込み(スイッチの切り替え)とかいう概念がわからなくなるかもしれない．
そりゃそうだ僕もPCのメモリを書き換えるためにスイッチぽちぽちしたことなんてない．
では実際メモリの書き込みってどうなってるのか，昔のメモリの話をする．
昔のメモリはさっきいったスイッチのところに「ヒューズ」というものを使っていたらしい．
これは，「電流を大量に流すと断線するただの導線」見たいなものらしく，本来保護回路に使われるものらしい．
つまり，メモリへの書き込みを「大量に電流を流して導線を切る」ことに置き換えている．
もちろん導線を戻すことはできないのでこれは一度書き込みしたら変えられない，すなわちROMである．
これ書き込みを再度できるようにするにはどうするかっていうとなんか「フローティングゲート」っていうのとかあるらしいぞ．
これRAMじゃなくてEPROMの話だけど，RAMもそういう感じなんじゃないのって思ってる．
よくわかんないけどそういうのは電気の人に任せてもいい領域だと僕は判断した．
磁気系の記憶素子も僕の理解すべき範疇ではないと判断した．











